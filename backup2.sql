--
-- PostgreSQL database dump
--

-- Dumped from database version 17.5
-- Dumped by pg_dump version 17.5

-- Started on 2025-08-12 21:47:34

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 231 (class 1259 OID 41261)
-- Name: chat_participants; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.chat_participants (
    chat_id bigint NOT NULL,
    user_id bigint NOT NULL,
    joined_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.chat_participants OWNER TO postgres;

--
-- TOC entry 230 (class 1259 OID 41214)
-- Name: chats; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.chats (
    chat_id integer NOT NULL,
    user1_id integer NOT NULL,
    user2_id integer NOT NULL,
    created_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP,
    last_message_at timestamp with time zone,
    CONSTRAINT chats_check CHECK ((user1_id < user2_id))
);


ALTER TABLE public.chats OWNER TO postgres;

--
-- TOC entry 229 (class 1259 OID 41213)
-- Name: chats_chat_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.chats_chat_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.chats_chat_id_seq OWNER TO postgres;

--
-- TOC entry 4943 (class 0 OID 0)
-- Dependencies: 229
-- Name: chats_chat_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.chats_chat_id_seq OWNED BY public.chats.chat_id;


--
-- TOC entry 237 (class 1259 OID 41338)
-- Name: comments; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.comments (
    id integer NOT NULL,
    user_id integer NOT NULL,
    post_id bigint NOT NULL,
    text character varying(512) NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.comments OWNER TO postgres;

--
-- TOC entry 236 (class 1259 OID 41337)
-- Name: comments_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.comments_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.comments_id_seq OWNER TO postgres;

--
-- TOC entry 4944 (class 0 OID 0)
-- Dependencies: 236
-- Name: comments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.comments_id_seq OWNED BY public.comments.id;


--
-- TOC entry 219 (class 1259 OID 32775)
-- Name: conservation; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.conservation (
    id integer NOT NULL,
    convid integer NOT NULL,
    fromuser integer NOT NULL,
    touser integer NOT NULL,
    "time" timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    lastmodified timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    content character varying,
    deliverystatus character varying NOT NULL
);


ALTER TABLE public.conservation OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 32782)
-- Name: conservation_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.conservation ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.conservation_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 32783)
-- Name: friend_requests; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.friend_requests (
    id integer NOT NULL,
    sender_id integer NOT NULL,
    receiver_id integer NOT NULL,
    status character varying(255) NOT NULL,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.friend_requests OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 32787)
-- Name: friend_requests_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.friend_requests ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.friend_requests_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 223 (class 1259 OID 32788)
-- Name: friends; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.friends (
    id integer NOT NULL,
    user_id integer NOT NULL,
    friend_id integer NOT NULL,
    created_at timestamp without time zone DEFAULT now(),
    CONSTRAINT friends_check CHECK ((user_id <> friend_id))
);


ALTER TABLE public.friends OWNER TO postgres;

--
-- TOC entry 224 (class 1259 OID 32793)
-- Name: friends_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.friends ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.friends_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 233 (class 1259 OID 41279)
-- Name: messages; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.messages (
    message_id bigint NOT NULL,
    chat_id integer NOT NULL,
    sender_id integer NOT NULL,
    recipient_id integer,
    content text NOT NULL,
    sent_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP,
    is_read boolean DEFAULT false,
    read_at timestamp with time zone,
    CONSTRAINT messages_check CHECK (((sender_id <> recipient_id) OR (recipient_id IS NULL)))
);


ALTER TABLE public.messages OWNER TO postgres;

--
-- TOC entry 232 (class 1259 OID 41278)
-- Name: messages_message_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.messages_message_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.messages_message_id_seq OWNER TO postgres;

--
-- TOC entry 4945 (class 0 OID 0)
-- Dependencies: 232
-- Name: messages_message_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.messages_message_id_seq OWNED BY public.messages.message_id;


--
-- TOC entry 217 (class 1259 OID 24576)
-- Name: people; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.people (
    id integer NOT NULL,
    name character varying NOT NULL,
    email character varying NOT NULL,
    age integer NOT NULL,
    password character varying,
    role character varying,
    status character varying
);


ALTER TABLE public.people OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 24581)
-- Name: people_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.people_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.people_id_seq OWNER TO postgres;

--
-- TOC entry 4946 (class 0 OID 0)
-- Dependencies: 218
-- Name: people_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.people_id_seq OWNED BY public.people.id;


--
-- TOC entry 225 (class 1259 OID 32802)
-- Name: post_likes; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.post_likes (
    id integer NOT NULL,
    post_id integer NOT NULL,
    user_id integer NOT NULL,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.post_likes OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 32806)
-- Name: post_likes_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.post_likes ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.post_likes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 235 (class 1259 OID 41319)
-- Name: posts; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.posts (
    id bigint NOT NULL,
    user_id integer NOT NULL,
    content character varying(255) NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    like_count integer DEFAULT 0 NOT NULL,
    comment_count integer DEFAULT 0 NOT NULL
);


ALTER TABLE public.posts OWNER TO postgres;

--
-- TOC entry 234 (class 1259 OID 41318)
-- Name: posts_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.posts_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.posts_id_seq OWNER TO postgres;

--
-- TOC entry 4947 (class 0 OID 0)
-- Dependencies: 234
-- Name: posts_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.posts_id_seq OWNED BY public.posts.id;


--
-- TOC entry 227 (class 1259 OID 32814)
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    id integer NOT NULL,
    email character varying(128) NOT NULL,
    name character varying(128) NOT NULL,
    password character varying(128) NOT NULL,
    created_at timestamp without time zone DEFAULT now(),
    avatar character varying(255),
    bio character varying(255),
    nickname character varying(255),
    enabled boolean DEFAULT false NOT NULL,
    confirmation_token character varying(255)
);


ALTER TABLE public.users OWNER TO postgres;

--
-- TOC entry 228 (class 1259 OID 32820)
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 4698 (class 2604 OID 41217)
-- Name: chats chat_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chats ALTER COLUMN chat_id SET DEFAULT nextval('public.chats_chat_id_seq'::regclass);


--
-- TOC entry 4708 (class 2604 OID 41341)
-- Name: comments id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comments ALTER COLUMN id SET DEFAULT nextval('public.comments_id_seq'::regclass);


--
-- TOC entry 4701 (class 2604 OID 49605)
-- Name: messages message_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.messages ALTER COLUMN message_id SET DEFAULT nextval('public.messages_message_id_seq'::regclass);


--
-- TOC entry 4690 (class 2604 OID 24582)
-- Name: people id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.people ALTER COLUMN id SET DEFAULT nextval('public.people_id_seq'::regclass);


--
-- TOC entry 4704 (class 2604 OID 49619)
-- Name: posts id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.posts ALTER COLUMN id SET DEFAULT nextval('public.posts_id_seq'::regclass);


--
-- TOC entry 4931 (class 0 OID 41261)
-- Dependencies: 231
-- Data for Name: chat_participants; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.chat_participants (chat_id, user_id, joined_at) FROM stdin;
21	2	2025-08-11 11:29:50.07153+03
21	3	2025-08-11 11:29:50.078531+03
22	1	2025-08-11 11:29:55.29883+03
22	2	2025-08-11 11:29:55.302832+03
23	3	2025-08-12 20:46:10.687307+03
23	5	2025-08-12 20:46:10.693309+03
\.


--
-- TOC entry 4930 (class 0 OID 41214)
-- Dependencies: 230
-- Data for Name: chats; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.chats (chat_id, user1_id, user2_id, created_at, last_message_at) FROM stdin;
22	1	2	2025-08-11 11:29:55.292833+03	\N
21	2	3	2025-08-11 11:29:50.019537+03	2025-08-12 20:46:03.304205+03
23	3	5	2025-08-12 20:46:10.561306+03	2025-08-12 20:46:14.45938+03
\.


--
-- TOC entry 4937 (class 0 OID 41338)
-- Dependencies: 237
-- Data for Name: comments; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.comments (id, user_id, post_id, text, created_at) FROM stdin;
1	2	1	Привет! Добро пожаловать на платформу!	2024-01-15 10:05:00
2	3	1	Рады видеть тебя здесь!	2024-01-15 10:10:00
3	2	2	Согласен, сегодня идеальный день для кодинга!	2024-01-16 14:35:00
4	3	2	Какой проект делаешь?	2024-01-16 14:40:00
5	1	2	Spring Boot приложение с WebSocket	2024-01-16 14:45:00
6	2	2	Звучит интересно!	2024-01-16 14:50:00
7	3	3	Ждем демонстрации!	2024-01-18 19:20:00
8	2	3	Уверен, получилось круто	2024-01-18 19:25:00
9	1	3	Спасибо! Скоро выложу	2024-01-18 19:30:00
10	1	4	Куда планируешь следующее путешествие?	2024-01-14 09:25:00
11	3	5	Вид просто потрясающий!	2024-01-17 16:50:00
12	1	5	Где это место?	2024-01-17 16:55:00
13	2	5	Это Альпы в Швейцарии	2024-01-17 17:00:00
14	3	5	Обязательно нужно посетить!	2024-01-17 17:05:00
15	1	5	В моем списке теперь тоже	2024-01-17 17:10:00
16	2	5	Рекомендую летом	2024-01-17 17:15:00
17	3	6	Отличная рекомендация!	2024-01-19 11:15:00
18	1	6	Читал, действительно полезная книга	2024-01-19 11:20:00
19	1	8	PostgreSQL - отличный выбор!	2024-01-16 18:35:00
20	2	8	Как тебе работается с JSONB?	2024-01-16 18:40:00
21	3	8	Еще не пробовал, но планирую изучить	2024-01-16 18:45:00
22	1	8	Очень удобно для хранения неструктурированных данных	2024-01-16 18:50:00
23	2	8	Спасибо за совет!	2024-01-16 18:55:00
24	1	9	Я использую Spring Boot	2024-01-20 13:25:00
25	2	9	Node.js + Express	2024-01-20 13:30:00
26	3	9	Интересно сравнить подходы	2024-01-20 13:35:00
27	1	9	Можно устроить дискуссию	2024-01-20 13:40:00
28	2	9	Хорошая идея!	2024-01-20 13:45:00
29	3	9	Давайте в следующем посте	2024-01-20 13:50:00
30	1	9	Договорились!	2024-01-20 13:55:00
\.


--
-- TOC entry 4919 (class 0 OID 32775)
-- Dependencies: 219
-- Data for Name: conservation; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.conservation (id, convid, fromuser, touser, "time", lastmodified, content, deliverystatus) FROM stdin;
\.


--
-- TOC entry 4921 (class 0 OID 32783)
-- Dependencies: 221
-- Data for Name: friend_requests; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.friend_requests (id, sender_id, receiver_id, status, created_at) FROM stdin;
15	3	1	DECLINED	2025-07-17 11:57:33.59628
18	2	3	DECLINED	2025-07-26 18:21:51.613294
23	3	2	ACCEPTED	2025-07-26 19:00:24.380446
26	5	2	DECLINED	2025-08-11 14:41:14.194271
19	1	2	DECLINED	2025-07-26 18:28:35.935492
\.


--
-- TOC entry 4923 (class 0 OID 32788)
-- Dependencies: 223
-- Data for Name: friends; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.friends (id, user_id, friend_id, created_at) FROM stdin;
\.


--
-- TOC entry 4933 (class 0 OID 41279)
-- Dependencies: 233
-- Data for Name: messages; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.messages (message_id, chat_id, sender_id, recipient_id, content, sent_at, is_read, read_at) FROM stdin;
83	21	3	2	dsds	2025-08-12 20:46:03.188201+03	f	\N
84	23	3	5	dsdsd	2025-08-12 20:46:14.45838+03	f	\N
\.


--
-- TOC entry 4917 (class 0 OID 24576)
-- Dependencies: 217
-- Data for Name: people; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.people (id, name, email, age, password, role, status) FROM stdin;
1	denis	denis@gmail.com	17	$2a$12$5Bz0ArYbjAebQY.6zemabOeKG4.VgXIffGuEACskWETC2DVRSd6ZO	ADMIN	ACTIVE
\.


--
-- TOC entry 4925 (class 0 OID 32802)
-- Dependencies: 225
-- Data for Name: post_likes; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.post_likes (id, post_id, user_id, created_at) FROM stdin;
8	26	1	2025-01-09 16:49:04.80567
\.


--
-- TOC entry 4935 (class 0 OID 41319)
-- Dependencies: 235
-- Data for Name: posts; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.posts (id, user_id, content, created_at, like_count, comment_count) FROM stdin;
1	1	Привет всем! Это мой первый пост на этой платформе.	2024-01-15 10:00:00	5	2
2	1	Сегодня отличный день для программирования! #coding #java	2024-01-16 14:30:00	12	4
3	1	Только что закончил новый проект. Скоро покажу результат!	2024-01-18 19:15:00	8	3
4	2	Добро пожаловать в мой профиль! Я люблю путешествовать.	2024-01-14 09:20:00	7	1
5	2	Фото с моего последнего путешествия в горы. Как вам вид?	2024-01-17 16:45:00	15	6
7	3	Я новый пользователь здесь. Давайте знакомиться!	2024-01-13 12:00:00	3	0
8	3	Только что научился работать с PostgreSQL. Очень мощная СУБД!	2024-01-16 18:30:00	10	5
0	1	Привет всем! Это мой первый пост на этой платформе.	2024-01-15 10:00:00	5	2
9	3	Вопрос к сообществу: какие фреймворки вы используете для бэкенда?	2024-01-20 13:20:00	14	7
6	2	Советую прочитать "Чистый код" Роберта Мартина. Отличная книга!	2024-01-19 11:10:00	11	2
\.


--
-- TOC entry 4927 (class 0 OID 32814)
-- Dependencies: 227
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users (id, email, name, password, created_at, avatar, bio, nickname, enabled, confirmation_token) FROM stdin;
3	denden@gmail.com	denden	$2a$12$1AzSNpPPCWm2VcmK7P64FuvtbV6gmuf3Z2Wq0ywwy9JoHM9e/NrD6	2025-01-01 10:51:51.666895	https://avatars.mds.yandex.net/i?id=141745856f060165956d80e0b9387e43555f55e9-5904474-images-thumbs&n=13	🌟 Passionate coder, avid reader, and tech enthusiast. Coffee lover ☕, nature explorer 🌿, always learning & embracing creativity. 🚀	denis	f	false
1	admin@gmail.com	Adminov Admin	$2a$12$R1Ht36PuErFFX.Ldv2hydeFHwkEUZ1VTJVD3on72zAQGp5xKoAPEe	2024-12-30 03:07:14.315489	https://avatars.mds.yandex.net/i?id=141745856f060165956d80e0b9387e43555f55e9-5904474-images-thumbs&n=13	pasiг\r\n	denchik	f	false
11	kadirovdenisbrawlstars@gmail.com	Denis Sined	$2a$12$2juZIcvYC6j1ermTcSDXbuXpuL6okzjzHq//t/nU0nwKbbWPb4NDu	2025-08-12 14:41:54.387578	\N	\N	sined	f	false
12	murtazinmicropenis@gmail.com	Murtazin Micropenis	$2a$12$FZUJf28a853s4zl/KxhakO7zCi1MhTY9LsMbVY5VHMdAydtJEthnq	2025-08-12 15:10:50.626435	\N	\N	murtazza	f	false
2	denis@gmail.com	Kadirov Denis	$2a$12$Uojme8i3rH7NwICJlzgyMuEzaXG45IfVYQViqpP7FlPODLdblmkDG	2024-12-30 03:07:14.352635	https://avatars.mds.yandex.net/i?id=141745856f060165956d80e0b9387e43555f55e9-5904474-images-thumbs&n=13	🌟 Passionate coder, avid reader, and tech enthusiast. Coffee lover ☕, nature explorer 🌿, always learning & embracing creativity. 🚀	denka	f	false
5	raul@gmail.com	Raul Raulev	$2a$12$koe6ldoebmki1HVW2tyNFuUpsqhCJVZIU1bmJp9vFpYtNTdDGciY6	2025-08-11 14:31:42.457244	\N	raulnaya2	raulka	f	false
19	kadirovdenis082@gmail.com	dsds	$2a$12$To.Bzpsk.ah2TDfayrBbPehN7GB5vL0BFC6Q..uLuiqBaw0df5e9y	2025-08-12 20:27:30.180718	\N	\N	dasdas	t	\N
20	fsdfdsen@gmail.com	выфв	$2a$12$Bm1Q1u7wZQUJ6KWaX3pv7.pMbaip9haecUycUOS2jQQLdEr7KTwC.	2025-08-12 20:54:08.426276	\N	\N	ывф	f	43516c49-12ef-4132-a3a8-5499625b6937
\.


--
-- TOC entry 4948 (class 0 OID 0)
-- Dependencies: 229
-- Name: chats_chat_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.chats_chat_id_seq', 23, true);


--
-- TOC entry 4949 (class 0 OID 0)
-- Dependencies: 236
-- Name: comments_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.comments_id_seq', 30, true);


--
-- TOC entry 4950 (class 0 OID 0)
-- Dependencies: 220
-- Name: conservation_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.conservation_id_seq', 1, false);


--
-- TOC entry 4951 (class 0 OID 0)
-- Dependencies: 222
-- Name: friend_requests_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.friend_requests_id_seq', 26, true);


--
-- TOC entry 4952 (class 0 OID 0)
-- Dependencies: 224
-- Name: friends_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.friends_id_seq', 34, true);


--
-- TOC entry 4953 (class 0 OID 0)
-- Dependencies: 232
-- Name: messages_message_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.messages_message_id_seq', 84, true);


--
-- TOC entry 4954 (class 0 OID 0)
-- Dependencies: 218
-- Name: people_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.people_id_seq', 1, true);


--
-- TOC entry 4955 (class 0 OID 0)
-- Dependencies: 226
-- Name: post_likes_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.post_likes_id_seq', 8, true);


--
-- TOC entry 4956 (class 0 OID 0)
-- Dependencies: 234
-- Name: posts_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.posts_id_seq', 9, true);


--
-- TOC entry 4957 (class 0 OID 0)
-- Dependencies: 228
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_id_seq', 24, true);


--
-- TOC entry 4738 (class 2606 OID 49572)
-- Name: chat_participants chat_participants_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_participants
    ADD CONSTRAINT chat_participants_pkey PRIMARY KEY (chat_id, user_id);


--
-- TOC entry 4732 (class 2606 OID 41221)
-- Name: chats chats_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chats
    ADD CONSTRAINT chats_pkey PRIMARY KEY (chat_id);


--
-- TOC entry 4734 (class 2606 OID 41223)
-- Name: chats chats_user1_id_user2_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chats
    ADD CONSTRAINT chats_user1_id_user2_id_key UNIQUE (user1_id, user2_id);


--
-- TOC entry 4751 (class 2606 OID 41346)
-- Name: comments comments_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comments
    ADD CONSTRAINT comments_pkey PRIMARY KEY (id);


--
-- TOC entry 4718 (class 2606 OID 32824)
-- Name: conservation conservation_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.conservation
    ADD CONSTRAINT conservation_pkey PRIMARY KEY (id);


--
-- TOC entry 4720 (class 2606 OID 32826)
-- Name: friend_requests friend_requests_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.friend_requests
    ADD CONSTRAINT friend_requests_pkey PRIMARY KEY (id);


--
-- TOC entry 4724 (class 2606 OID 32828)
-- Name: friends friends_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.friends
    ADD CONSTRAINT friends_pkey PRIMARY KEY (id);


--
-- TOC entry 4746 (class 2606 OID 49607)
-- Name: messages messages_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_pkey PRIMARY KEY (message_id);


--
-- TOC entry 4714 (class 2606 OID 24584)
-- Name: people people_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.people
    ADD CONSTRAINT people_email_key UNIQUE (email);


--
-- TOC entry 4716 (class 2606 OID 24586)
-- Name: people people_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.people
    ADD CONSTRAINT people_pkey PRIMARY KEY (id);


--
-- TOC entry 4726 (class 2606 OID 32832)
-- Name: post_likes post_likes_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.post_likes
    ADD CONSTRAINT post_likes_pkey PRIMARY KEY (id);


--
-- TOC entry 4749 (class 2606 OID 49621)
-- Name: posts posts_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.posts
    ADD CONSTRAINT posts_pkey PRIMARY KEY (id);


--
-- TOC entry 4722 (class 2606 OID 49604)
-- Name: friend_requests unique_directional_friendship_status; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.friend_requests
    ADD CONSTRAINT unique_directional_friendship_status UNIQUE (sender_id, receiver_id, status);


--
-- TOC entry 4728 (class 2606 OID 32836)
-- Name: users users_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_email_key UNIQUE (email);


--
-- TOC entry 4730 (class 2606 OID 32838)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- TOC entry 4739 (class 1259 OID 49573)
-- Name: idx_chat_participants_user; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_chat_participants_user ON public.chat_participants USING btree (user_id);


--
-- TOC entry 4735 (class 1259 OID 41310)
-- Name: idx_chats_user1; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_chats_user1 ON public.chats USING btree (user1_id);


--
-- TOC entry 4736 (class 1259 OID 41311)
-- Name: idx_chats_user2; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_chats_user2 ON public.chats USING btree (user2_id);


--
-- TOC entry 4752 (class 1259 OID 49589)
-- Name: idx_comments_post_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_comments_post_id ON public.comments USING btree (post_id);


--
-- TOC entry 4753 (class 1259 OID 41357)
-- Name: idx_comments_user_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_comments_user_id ON public.comments USING btree (user_id);


--
-- TOC entry 4740 (class 1259 OID 41312)
-- Name: idx_messages_chat; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_messages_chat ON public.messages USING btree (chat_id);


--
-- TOC entry 4741 (class 1259 OID 41314)
-- Name: idx_messages_recipient; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_messages_recipient ON public.messages USING btree (recipient_id);


--
-- TOC entry 4742 (class 1259 OID 41313)
-- Name: idx_messages_sender; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_messages_sender ON public.messages USING btree (sender_id);


--
-- TOC entry 4743 (class 1259 OID 41315)
-- Name: idx_messages_sent; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_messages_sent ON public.messages USING btree (sent_at);


--
-- TOC entry 4744 (class 1259 OID 41317)
-- Name: idx_messages_sent_at; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_messages_sent_at ON public.messages USING btree (sent_at);


--
-- TOC entry 4747 (class 1259 OID 41335)
-- Name: idx_posts_user_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_posts_user_id ON public.posts USING btree (user_id);


--
-- TOC entry 4763 (class 2606 OID 49556)
-- Name: chat_participants chat_participants_chat_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_participants
    ADD CONSTRAINT chat_participants_chat_id_fkey FOREIGN KEY (chat_id) REFERENCES public.chats(chat_id);


--
-- TOC entry 4764 (class 2606 OID 49574)
-- Name: chat_participants chat_participants_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_participants
    ADD CONSTRAINT chat_participants_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 4761 (class 2606 OID 41224)
-- Name: chats chats_user1_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chats
    ADD CONSTRAINT chats_user1_id_fkey FOREIGN KEY (user1_id) REFERENCES public.users(id);


--
-- TOC entry 4762 (class 2606 OID 41229)
-- Name: chats chats_user2_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chats
    ADD CONSTRAINT chats_user2_id_fkey FOREIGN KEY (user2_id) REFERENCES public.users(id);


--
-- TOC entry 4770 (class 2606 OID 49622)
-- Name: comments comments_post_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comments
    ADD CONSTRAINT comments_post_id_fkey FOREIGN KEY (post_id) REFERENCES public.posts(id) ON DELETE CASCADE;


--
-- TOC entry 4771 (class 2606 OID 41347)
-- Name: comments comments_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comments
    ADD CONSTRAINT comments_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- TOC entry 4754 (class 2606 OID 32844)
-- Name: conservation conservation_fromuser_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.conservation
    ADD CONSTRAINT conservation_fromuser_fkey FOREIGN KEY (fromuser) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- TOC entry 4755 (class 2606 OID 32849)
-- Name: conservation conservation_touser_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.conservation
    ADD CONSTRAINT conservation_touser_fkey FOREIGN KEY (touser) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- TOC entry 4756 (class 2606 OID 32854)
-- Name: friend_requests friend_requests_receiver_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.friend_requests
    ADD CONSTRAINT friend_requests_receiver_id_fkey FOREIGN KEY (receiver_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- TOC entry 4757 (class 2606 OID 32859)
-- Name: friend_requests friend_requests_sender_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.friend_requests
    ADD CONSTRAINT friend_requests_sender_id_fkey FOREIGN KEY (sender_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- TOC entry 4758 (class 2606 OID 32864)
-- Name: friends friends_friend_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.friends
    ADD CONSTRAINT friends_friend_id_fkey FOREIGN KEY (friend_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- TOC entry 4759 (class 2606 OID 32869)
-- Name: friends friends_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.friends
    ADD CONSTRAINT friends_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- TOC entry 4765 (class 2606 OID 41290)
-- Name: messages messages_chat_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_chat_id_fkey FOREIGN KEY (chat_id) REFERENCES public.chats(chat_id);


--
-- TOC entry 4766 (class 2606 OID 49579)
-- Name: messages messages_chat_id_recipient_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_chat_id_recipient_id_fkey FOREIGN KEY (chat_id, recipient_id) REFERENCES public.chat_participants(chat_id, user_id);


--
-- TOC entry 4767 (class 2606 OID 41300)
-- Name: messages messages_recipient_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_recipient_id_fkey FOREIGN KEY (recipient_id) REFERENCES public.users(id);


--
-- TOC entry 4768 (class 2606 OID 41295)
-- Name: messages messages_sender_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_sender_id_fkey FOREIGN KEY (sender_id) REFERENCES public.users(id);


--
-- TOC entry 4760 (class 2606 OID 32889)
-- Name: post_likes post_likes_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.post_likes
    ADD CONSTRAINT post_likes_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- TOC entry 4769 (class 2606 OID 41330)
-- Name: posts posts_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.posts
    ADD CONSTRAINT posts_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


-- Completed on 2025-08-12 21:47:35

--
-- PostgreSQL database dump complete
--

